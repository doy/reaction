[%

PROCESS field_base;

control_block = 'checkbox_group_control';

BLOCK checkbox_group_control;

  FOREACH v_name IN self.valid_value_names;
    v_val = self.name_to_value_map.$v_name;
    %]<input type="checkbox" id="[% id_attr %]" [% connect_control(self, 'value');
    ' value="'; v_val; '"';
    IF self.is_current_value(v_val); ' checked="checked"'; END;
    process_attrs(attrs); ' />'; v_name; "\n";
  END;

END;

%]
