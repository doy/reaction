[%

PROCESS field_base;

control_block = 'hiddenarray_control';

BLOCK hiddenarray_control;

  name = attrs.name || 'value'; attrs.name = '';
  FOREACH val IN self.value;
    %]<input type="hidden" [% IF id_attr; 'id="'; id_attr; '"'; END; connect_control(self, name);
    ' value="'; val; '"'; process_attrs(attrs) %] />[% "\n";
  END;

END;

%]
